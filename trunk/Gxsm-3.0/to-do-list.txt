GXSM3 -- ToDo List/Status -- 20161118
(C) PyZahl et al
http://gxsm.sf.net
==================================================

Notes to self: -- remove old/obsolete entries and reset to defaults:
to clean dconf database and reset run as user:
$$ dconf reset -f /org/gnome/gxsm3/

to debug glib,... messages:
$$ G_DEBUG=fatal_criticals gdb gxsm3
$$ G_DEBUG=fatal_warnings gdb gxsm3
$$ for((i=0;;++i)) { echo $i `cat /proc/12640/status | grep VmSize | grep -o '[0-9]*'`; sleep 10 || break; } > gxsm3mem
$$ for((i=0;;++i)) { echo $i `cat /proc/\`pidof gxsm3\`/status | grep VmSize | grep -o '[0-9]*'`; sleep 10 || break; } > gxsm3mem
tail -f gxsm3mem
gnulifeplot.gnu:
--
plot "gxsm3mem" using 1:2 with lines
pause 10
reread
--
gnuplot gnulifeplot.gnu
--
percy@ltncafm:~$ sed -n -e 's/^.*\(VmSize: \)/\1/p' Ev_Jan2017.log | awk '{print NR " " $2}'

==================================================

current work in progress, evaluating while working with it, optimizing, new ideas:
-> DSP Control (MK3 HwI):
   ... implementing new GUI simplification scheme via config mode, FB tab done -- testing -- done.
   ... optimize/discuss "config-mode" Widgets, hide FB switch, ...? hide IIR, ICross, ...?, all of Scan Char frame??
   ... mixer channels, blend out set to "OFF" channels automatically in non config mode -- fix mode switch crash issue/manage => see below gtk3.22 bug/issue ?? ***
       --> need to manage/save/restore mixing mode, so far not managed!!
   ... in non config mode show scale for setpoint
   ???... have a "setup" or "optimize" mode/level for config widgets
   ... LM (VP Prog tab): color buttons, figure out how (CSS!), add description/memo field for ABC... programs?, simple mode: eliminate RHS fields?? => dynamic CSS
   ... chain CP/CI 100/120% option
   ... read/sync V-XYZ from Smart-Piezo-Drive via USB link automatically!
->     ...auto time unit adjust [ms, s, ..] depending on range -- may be...
->\/ 2D view: in SLS mode: make Red-Line work! -- working on this. isNew data control issue in LineInfo, must reset, etc. ==> done.
       ... SLS BotUp scandir leads to crash  -- TDB, do not use rigth now.
       ... need to auto reset SLS for any new dimension scan and at gxsm startup, but must keep RemoteControlHooks  ==> reset done at startup now.

pending ports:
-> View 3D / GL view -- started, work in progress.... NEEDS MAJOR PORT TO OPEN-GL > V3.1 :( total incompat, not working. Neither Gxsm-2 -- can any one help here? ==> vsurf3d.C
-> SR1?? ... pending/obsolete/outdated??:  port to Grid and new gxsm3 internal BuildParam helper: old SR-STD/SP2 GUI [old SR-STD HwI not availabe at this time for gxsm3]


pending solution/reworks:
-> build a analysis clone "gxsm3a" instance with independent session/session manager and gsettings path
   => workaround for now: use/create alternative user for analysis, log on via ssh -X and start gxsm3 in new session on same X11 display.

pending (old) fixed/issues:
-> Im/-Export Scan plugins: proper file dialog load/save, free filename!! => see WIP as example (fixed) -- check/follow up

pending minor issues/ideas:
-- With hardware only: odd glib error message at gxsm3 shutown after gxsm-app destructions completed.
-- Some times, in particual w hardware -- Object Labels not showing ?!?!? (some thing uninitialized?)
---PROBE FOLDERS/CONTROL:
  -recode LM/graphs button?
- minor left overs of h/vboxes and packing in dialogs... -- non critical, works fine but should be done as officially obsoleted. [check what's left, no obsolete warnings any more!]
-- PCS is NOT yet updating non user set values -- ak file number auto advance, client settings, remote... TDB.
- add remote support: a few importrant control buttons pyremote accessible (global FB ON/OFF, PAC, Z-Adjuster**)

-------------------
DONE:
->\/ store/restore window gemoetry, fixed, done. Added manual store/restore Gxsm system menu options  --> smart manage window position???
->\/ DSP Mover:
   ... issue with Ampl and GPIO defaults at startup not taking effect, need to update numbers after restart ?!? Check! -- touch values after start!
   ... Auto folder: defaults (as shown) not applying for GPIO, Ampl, step??? -- need to touch values for update ??? Check! - -touch value after start!
-> \/  VP: ...auto organize Matrix of Plots -- same "x-axis" plot in single window stacked. -- done.
           --> only Pending Popup-Menu hooks or some kind of control means. Also added auto data decimation to profile.
-> \/ more debug message cleanups -- mostly done
-> \/ ... Probe/Graphs -- issue with reading/setting/updating default Signal Source Channels -- fixed
->\/ View: OSD objects missing -- Completed.
->\/ View, Objects(s) Label -- missing, set fonst issue, Objekt coordinate spin not working right +/- limits off?, ShowLine Cursors dragging not hooked (left/right via menu works) but only blue m,ark in scan line object? -- Completed.
->\/ track/trail -- completed.
-\/ Point Obj "Follow" -- new solution for old problem. Central on/off switch on titlebar. May add new tip-monitor/move/grab object/life-indicator -- DONE.
-\/ Profile View: Cursors/DnD -- reimplement DONE.
-\/ better auto file name for xxx-snap.png (image save as) -- DONE.
-\/ side-pane objects: may be put object context (from popup) in there? Make object position lock as option available. DONE.
-\/ load objects fails, some issue with file name/readline?!?! RECODED strtoc with g_strsplit_set: DONE.
------------------

External/glib/gtk related issues:
- https://bugzilla.gnome.org/show_bug.cgi?id=771242  ComboBoxText problem causes glib warning/critical or even crash?? -- TDB:
 *** (gxsm3:31920): Gdk-CRITICAL **: gdk_window_get_window_type: assertion 'GDK_IS_WINDOW (window)' failed


Major upcoming task:
- Manual updates, embeded manual code reviewing/updating
- GXSM main Website? Overhaul. Find some simple CMS.

Testing, Issues found, Ideas, please comment:
- RedLine Profile ==> [option?] overlay/underlay/below scan view 2D -- done, works (linked to 2d profile, can be hidden), evaluating...
- DSP-Control/Graphs -> add clear Coulmns/divers
- Life rotate scan while scanning -> make work (kind or rot/arc move to via slow adjust matrix)!
- implement Z-adjuster (manual Z offset if FB=OFF)
- Startup Control,.. Window Positioning Management -- issue with size resore if config/normal mode!! [small/big] -- Window manager interferse stupidly :( :( o[
  .. any way to force window positioning?? Ignoring/default/auto if not fit/overlap currently.
  .. Per default the (any??) window-manager is free to ignore window positioning request -- and does.
  * note: you can watch the gxsm manages/stored window coordinated via dconf...
- graphs -- add color/shade/divider for colums
- issue with Mixer - Mode Change (OFF/LIN/LOG/..), odd behavior to random crash ?!?! => gtk 3.22 combo-box issue -- see above ***
- SLS: may NOT restore last vales??
- PAC gui:
  ...f0 and sine-volume not memorized (zero at start)
  ...add quick button to transfer auto set or current life freq (locked) to f-sine and f0-ref

Other GUI, window manager, ... related:
- If "focus" switching and related grey-out/normal GUI element rendering feels suggish/delayed this is a feature of the Gnome-SHell with in particular the new Adwaita CSS Scheme:
  ...you may want to use for a better experience a high end graphics card and enjoy...
  ...or use a different scheme (find one, make/modify...) or use a simple fast window manager

Py Scripts:
- tune scope -- memorize last settings (f0, ampl,...)
- signal, data complete DSP configuratiuon save to file and restore. Save to file started/working. Done -- but check/fix issue with DISABLED signals
- better icons

Bug Report Log:
-> Defaults for Amp/GPIO in Mover-Auto Tab needs user update to take effect after 1st start ?? unclear.

Low Priority, new ideas, ...:
- Red/Blue-Line Profile Color List [swap order]
- Make possibel to adjust rotation live while scanning -- just liek "move", but hi-level, slowly... ???

DSP Code Road-Map:
- FIX: minor issue (old) Wave-Out-X/Y(0,1) old value if wave action was aborded early via button up (not completed) stays and is assigned if other direction is used eventually to Y or X (vs). => always Reset and zero numbers. On DSP or even high level/gxsm. Applies to Gxsm2 and 3.
- Z-Adjuster to any Z (FB=OFF, simple user/script Z-adjust) **
  ... create generic "adjuster" module to save code space? evalute options!
- Smooth Rotation Matrix adjuster (life rotation)
- PAC/PLL additional mode "Q"-Control: Develop Polyphase FIR for precise phase shifting (delay, interpolation) of imput signal to mix/feedback with excitation option -- if AM/PH controllers are OFF.
- RT "max/limit some thing" watch dog to (re) enable/TBD feedback w attempt to re-adjust Z??
- VP: think about auto trigger/cancel section on relative "jump up/dn"

=========================
END.
