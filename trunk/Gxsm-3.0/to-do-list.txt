GXSM3 -- ToDo List/Status -- 20161118
(C) PyZahl et al
http://gxsm.sf.net
==================================================

Notes to self: -- remove old/obsolete entries and reset to defaults:
to clean dconf database and reset run as user:
$$ dconf reset -f /org/gnome/gxsm3/

to debug glib,... messages:
$$ G_DEBUG=fatal_criticals gdb gxsm3
$$ G_DEBUG=fatal_warnings gdb gxsm3
$$ for((i=0;;++i)) { echo $i `cat /proc/12640/status | grep VmSize | grep -o '[0-9]*'`; sleep 10 || break; } > gxsm3mem
$$ for((i=0;;++i)) { echo $i `cat /proc/\`pidof gxsm3\`/status | grep VmSize | grep -o '[0-9]*'`; sleep 10 || break; } > gxsm3mem
tail -f gxsm3mem
gnulifeplot.gnu:
--
plot "gxsm3mem" using 1:2 with lines
pause 10
reread
--
gnuplot gnulifeplot.gnu
--
percy@ltncafm:~$ sed -n -e 's/^.*\(VmSize: \)/\1/p' Ev_Jan2017.log | awk '{print NR " " $2}'

==================================================

current work in progress, evaluating while working with it, optimizing, new ideas:
-> DSP Control (MK3 HwI):
   ... LM (VP Prog tab): color buttons, figure out how (CSS!), add description/memo field for ABC... programs?, simple mode: eliminate RHS fields?? => dynamic CSS
   ... chain CP/CI 100/120% option
   ... read/sync V-XYZ from Smart-Piezo-Drive via USB link automatically!
->     ...auto time unit adjust [ms, s, ..] depending on range -- may be...

==> figure out how to set/change entry text color
pango_attr_foreground_new ()
gtk_entry_set_attributes ()
gtk_entry_get_attributes ()
==> PangoAttrList


pending ports:
-> SR1?? ... pending/obsolete/outdated??:  port to Grid and new gxsm3 internal BuildParam helper: old SR-STD/SP2 GUI [old SR-STD HwI not availabe at this time for gxsm3]


pending solution/reworks:
-> build a analysis clone "gxsm3a" instance with independent session/session manager and gsettings path
   => workaround for now: use/create alternative user for analysis, log on via ssh -X and start gxsm3 in new session on same X11 display.

pending (old) fixed/issues:
-> Im/-Export Scan plugins: proper file dialog load/save, free filename!! => see WIP as example (fixed) -- check/follow up

pending minor issues/ideas:
-- With hardware only: odd glib error message at gxsm3 shutown after gxsm-app destructions completed.
---PROBE FOLDERS/CONTROL:
  -recode LM/graphs button?
  -fix default VP restore, some thing is odd. Reload preset!
-- PCS is NOT yet updating non user set values -- ak file number auto advance, client settings, remote... TDB.
- add remote support: a few importrant control buttons pyremote accessible (global FB ON/OFF, PAC, Z-Adjuster**)

-------------------
DONE:
->\/ View 3D -- completed, just continue tweaking details -- big job completed, all new. Basics are working again and it's awesome with NVida GPU engines!
->\/ 3D GL 4.0 basic view re implemented.
->\/ 2D view: in SLS mode: make Red-Line work! -- working on this. isNew data control issue in LineInfo, must reset, etc. ==> done.
       ... SLS BotUp scandir leads to crash  -- TDB, do not use rigth now.
       ... need to auto reset SLS for any new dimension scan and at gxsm startup, but must keep RemoteControlHooks  ==> reset done at startup now.
-\/ memorizing last GPIO setting not at restart, for pick up at previous conditions
-\/ fixed not clean shutdown issue and missed/uninitialzied with NULL grid widget.
-\/ minor left overs of h/vboxes and packing in dialogs... -- non critical, works fine but should be done as officially obsoleted. [check what's left, no obsolete warnings any more!] -- DONE
->fixed shutdow issue in panview
->\/ store/restore window gemoetry, fixed, done. Added manual store/restore Gxsm system menu options  --> smart manage window position???
->\/ DSP Mover:
   ... issue with Ampl and GPIO defaults at startup not taking effect, need to update numbers after restart ?!? Check! -- touch values after start!
   ... Auto folder: defaults (as shown) not applying for GPIO, Ampl, step??? -- need to touch values for update ??? Check! - -touch value after start!
-> \/  VP: ...auto organize Matrix of Plots -- same "x-axis" plot in single window stacked. -- done.
           --> only Pending Popup-Menu hooks or some kind of control means. Also added auto data decimation to profile.
-> \/ more debug message cleanups -- mostly done
-> \/ ... Probe/Graphs -- issue with reading/setting/updating default Signal Source Channels -- fixed
->\/ View: OSD objects missing -- Completed.
->\/ View, Objects(s) Label -- missing, set fonst issue, Objekt coordinate spin not working right +/- limits off?, ShowLine Cursors dragging not hooked (left/right via menu works) but only blue m,ark in scan line object? -- Completed.
->\/ track/trail -- completed.
-\/ Point Obj "Follow" -- new solution for old problem. Central on/off switch on titlebar. May add new tip-monitor/move/grab object/life-indicator -- DONE.
-\/ Profile View: Cursors/DnD -- reimplement DONE.
-\/ better auto file name for xxx-snap.png (image save as) -- DONE.
-\/ side-pane objects: may be put object context (from popup) in there? Make object position lock as option available. DONE.
-\/ load objects fails, some issue with file name/readline?!?! RECODED strtoc with g_strsplit_set: DONE.
-\/ PAC gui:
  ...f0 and sine-volume not memorized (zero at start) -- done
  ...add quick button to transfer auto set or current life freq (locked) to f-sine and f0-ref -- done
------------------

External/glib/gtk related issues:
- https://bugzilla.gnome.org/show_bug.cgi?id=771242  ComboBoxText problem causes glib warning/critical or even crash?? -- TDB:
 *** (gxsm3:31920): Gdk-CRITICAL **: gdk_window_get_window_type: assertion 'GDK_IS_WINDOW (window)' failed


Major upcoming task:
- Manual updates, embeded manual code reviewing/updating
- GXSM main Website? Overhaul. Find some simple CMS.

Testing, Issues found, Ideas, please comment:
- Life rotate scan while scanning -> make work (kind or rot/arc move to via slow adjust matrix)!
- Implement Z-adjuster (manual Z offset if FB=OFF)
- VP: Emergency ABORT
- VP: Check/enhance user friendlyness: trigger/limits
- Add: Feedback: CP/CI sanity checks, approach compat setting checks.
- Coarse/Mover: design easy use macro recording/playing "button(s)" for repetetive tasks? (like Z-up, move XY, approach, :: => make SPD change gain accessible)
-\/ SLS: may NOT restore last vales??  -- resetting, done

Other GUI, window manager, ... related:
- If "focus" switching and related grey-out/normal GUI element rendering feels suggish/delayed this is a feature of the Gnome-SHell with in particular the new Adwaita CSS Scheme:
  ...you may want to use for a better experience a high end graphics card and enjoy...
  ...or use a different scheme (find one, make/modify...) or use a simple fast window manager

Py Scripts:
- tune scope -- memorize last settings (f0, ampl,...)
- signal, data complete DSP configuratiuon save to file and restore. Save to file started/working. Done -- but check/fix issue with DISABLED signals
- better icons

Bug Report Log:
-> Defaults for Amp/GPIO in Mover-Auto Tab needs user update to take effect after 1st start ?? unclear.

Low Priority, new ideas, ...:
- Red/Blue-Line Profile Color List [swap order]
- Make possibel to adjust rotation live while scanning -- just liek "move", but hi-level, slowly... ???

DSP Code Road-Map:
- FIX: minor issue (old) Wave-Out-X/Y(0,1) old value if wave action was aborded early via button up (not completed) stays and is assigned if other direction is used eventually to Y or X (vs). => always Reset and zero numbers. On DSP or even high level/gxsm. Applies to Gxsm2 and 3.
- Z-Adjuster to any Z (FB=OFF, simple user/script Z-adjust) **
  ... create generic "adjuster" module to save code space? evalute options!
- Smooth Rotation Matrix adjuster (life rotation)
- PAC/PLL additional mode "Q"-Control: Develop Polyphase FIR for precise phase shifting (delay, interpolation) of imput signal to mix/feedback with excitation option -- if AM/PH controllers are OFF.
- RT "max/limit some thing" watch dog to (re) enable/TBD feedback w attempt to re-adjust Z??
- VP: think about auto trigger/cancel section on relative "jump up/dn"

=========================
END.
